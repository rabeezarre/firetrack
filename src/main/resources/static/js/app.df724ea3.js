(function(){"use strict";var e={4447:function(e,a,t){var r=t(9242),s=t(3396);const n={id:"app"};function o(e,a,t,r,o,i){const l=(0,s.up)("MenuComponent"),c=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)("div",n,[(0,s.Wm)(l),(0,s.Wm)(c)])}var i=t(7139),l=t.p+"img/menu.b3e3e0e7.svg",c=t.p+"img/close.fe546060.svg";const d={class:"menu navbar navbar-expand-lg navbar-dark bg-dark"},u={class:"container"},m={key:0,src:l,alt:"Menu",class:"menu-icon"},p={key:1,src:c,alt:"Close",class:"menu-icon"},g={class:"navbar-nav me-auto"},v={class:"nav-item"},b={class:"nav-item"},f={class:"nav-item"},h={class:"d-flex flex-column align-items-center"};function w(e,a,t,r,n,o){const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("nav",d,[(0,s._)("div",u,[(0,s.Wm)(l,{to:"/",class:"navbar-brand"},{default:(0,s.w5)((()=>[(0,s.Uk)("FireTrack")])),_:1}),(0,s._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",onClick:a[0]||(a[0]=(...e)=>o.toggleMobileMenu&&o.toggleMobileMenu(...e))},[n.isMobileMenuOpen?((0,s.wg)(),(0,s.iD)("img",p)):((0,s.wg)(),(0,s.iD)("img",m))]),(0,s._)("div",{class:(0,i.C_)(["collapse navbar-collapse",{show:n.isMobileMenuOpen}]),id:"navbarNav"},[(0,s._)("ul",g,[(0,s._)("li",v,[(0,s.Wm)(l,{to:"/",class:"nav-link"},{default:(0,s.w5)((()=>[(0,s.Uk)("Home")])),_:1})]),(0,s._)("li",b,[(0,s.Wm)(l,{to:"/map",class:"nav-link"},{default:(0,s.w5)((()=>[(0,s.Uk)("Map")])),_:1})]),(0,s._)("li",f,[(0,s.Wm)(l,{to:"/profile",class:"nav-link"},{default:(0,s.w5)((()=>[(0,s.Uk)("Profile")])),_:1})])]),(0,s._)("div",h,[(0,s._)("button",{class:"btn btn-primary",onClick:a[1]||(a[1]=(...e)=>o.handleButtonClick&&o.handleButtonClick(...e))},(0,i.zw)(e.isAuthenticated?"Logout":"Login"),1)])],2)])])}t(560);var _=t(65),y={name:"MenuComponent",computed:{...(0,_.Se)(["isAuthenticated"])},data(){return{isMobileMenuOpen:!1}},methods:{handleButtonClick(){this.isAuthenticated?this.$store.dispatch("logoutUser"):this.$router.push("/login")},toggleMobileMenu(){this.isMobileMenuOpen=!this.isMobileMenuOpen}}},k=t(89);const E=(0,k.Z)(y,[["render",w],["__scopeId","data-v-153808b0"]]);var M=E,D={name:"App",components:{MenuComponent:M}};const S=(0,k.Z)(D,[["render",o]]);var U=S,C=t(2483);const N={class:"container"},P=(0,s.uE)('<h1 class="mt-4" data-v-71d913ba>FireTrack - Wildfire Management System</h1><p data-v-71d913ba> This system is designed to help manage wildfires with a focus on monitoring, early detection, and efficient response. </p><h2 class="mt-4" data-v-71d913ba>Features</h2><ul data-v-71d913ba><li data-v-71d913ba>Real-time monitoring of forest conditions.</li><li data-v-71d913ba>Tracking points inspections in the forest using mobile devices.</li><li data-v-71d913ba>Timely emergency alerts for rapid response to wildfire incidents.</li></ul><h2 class="mt-4" data-v-71d913ba>Sub-Systems</h2><ul data-v-71d913ba><li data-v-71d913ba><strong data-v-71d913ba>Web:</strong> Interactive map displaying tracking points information.</li><li data-v-71d913ba><strong data-v-71d913ba>Mobile:</strong> Tracking service for marking checked tracking points in real-time.</li><li data-v-71d913ba><strong data-v-71d913ba>Backend:</strong> Centralized database for web and mobile interfaces.</li><li data-v-71d913ba><strong data-v-71d913ba>Embedded Programming:</strong> Utilizes LoRaWAN protocol for scalable data sharing.</li></ul><h2 class="mt-4" data-v-71d913ba>Next Steps</h2><p data-v-71d913ba> In the future, we plan to enhance the system with advanced features like predictive modeling and AI-driven fire spread projection. </p>',8),I=[P];function A(e,a,t,r,n,o){return(0,s.wg)(),(0,s.iD)("div",N,I)}var O={name:"HomePage"};const z=(0,k.Z)(O,[["render",A],["__scopeId","data-v-71d913ba"]]);var T=z;const Z={className:"login-page container mt-4"},L={className:"row"},q={className:"col-md-6 mb-4"},x={className:"col-md-6"};function H(e,a,t,r,n,o){const i=(0,s.up)("login-form"),l=(0,s.up)("registration-form");return(0,s.wg)(),(0,s.iD)("div",Z,[(0,s._)("div",L,[(0,s._)("div",q,[(0,s.Wm)(i,{onLoginSuccess:r.handleLoginSuccess},null,8,["onLoginSuccess"])]),(0,s._)("div",x,[(0,s.Wm)(l,{onRegisterSuccess:r.handleRegisterSuccess},null,8,["onRegisterSuccess"])])])])}const R=e=>((0,s.dD)("data-v-49c33ce6"),e=e(),(0,s.Cn)(),e),$={class:"login-form"},F=R((()=>(0,s._)("h2",null,"Login",-1))),W={class:"mb-3"},j=R((()=>(0,s._)("label",{for:"email",class:"form-label"},"Email",-1))),B={key:0,class:"invalid-feedback"},V={class:"mb-3"},Y=R((()=>(0,s._)("label",{for:"password",class:"form-label"},"Password",-1))),J={key:0,class:"invalid-feedback"},K={key:0,class:"alert alert-danger"},G=R((()=>(0,s._)("button",{type:"submit",class:"btn btn-primary"},"Login",-1)));function Q(e,a,t,n,o,l){return(0,s.wg)(),(0,s.iD)("div",$,[F,(0,s._)("form",{onSubmit:a[2]||(a[2]=(0,r.iM)(((...e)=>l.login&&l.login(...e)),["prevent"])),novalidate:""},[(0,s._)("div",W,[j,(0,s.wy)((0,s._)("input",{type:"email",class:(0,i.C_)(["form-control",{"is-invalid":o.emailError||o.loginError}]),id:"email","onUpdate:modelValue":a[0]||(a[0]=e=>o.credentials.email=e),required:""},null,2),[[r.nr,o.credentials.email]]),o.emailError?((0,s.wg)(),(0,s.iD)("div",B,(0,i.zw)(o.emailError),1)):(0,s.kq)("",!0)]),(0,s._)("div",V,[Y,(0,s.wy)((0,s._)("input",{type:"password",class:(0,i.C_)(["form-control",{"is-invalid":o.passwordError||o.loginError}]),id:"password","onUpdate:modelValue":a[1]||(a[1]=e=>o.credentials.password=e),required:""},null,2),[[r.nr,o.credentials.password]]),o.passwordError?((0,s.wg)(),(0,s.iD)("div",J,(0,i.zw)(o.passwordError),1)):(0,s.kq)("",!0)]),o.loginError?((0,s.wg)(),(0,s.iD)("div",K,(0,i.zw)(o.loginError),1)):(0,s.kq)("",!0),G],32)])}var X=t(1076),ee={data(){return{credentials:{email:"",password:""},emailError:"",passwordError:"",loginError:""}},methods:{validateEmail(){const e=/^(([^<>()\]\\.,;:\s@"]+(\.[^<>()\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(this.credentials.email)},async login(){if(this.loginError="",this.emailError=this.validateEmail()?"":"Invalid email format",!this.emailError)try{const e=await X.Z.post("http://localhost:8080/api/users/login",this.credentials);this.$store.dispatch("loginUser",e.data),this.$emit("login-success")}catch(e){e.response&&401===e.response.status?this.loginError="Invalid email or password.":this.loginError="An error occurred during login."}}}};const ae=(0,k.Z)(ee,[["render",Q],["__scopeId","data-v-49c33ce6"]]);var te=ae;const re=e=>((0,s.dD)("data-v-b4b86c44"),e=e(),(0,s.Cn)(),e),se={class:"registration-form"},ne=re((()=>(0,s._)("h2",null,"Register",-1))),oe={class:"mb-3"},ie=re((()=>(0,s._)("label",{for:"email",class:"form-label"},"Email",-1))),le={key:0,class:"invalid-feedback"},ce={class:"mb-3"},de=re((()=>(0,s._)("label",{for:"password",class:"form-label"},"Password",-1))),ue={key:0,class:"invalid-feedback"},me={class:"mb-3"},pe=re((()=>(0,s._)("label",{for:"firstName",class:"form-label"},"First Name",-1))),ge={class:"mb-3"},ve=re((()=>(0,s._)("label",{for:"lastName",class:"form-label"},"Last Name",-1))),be={class:"mb-3"},fe=re((()=>(0,s._)("label",{for:"position",class:"form-label"},"Position",-1))),he=re((()=>(0,s._)("option",{value:"",disabled:""},"Select position",-1))),we=re((()=>(0,s._)("option",{value:"Ranger"},"Ranger",-1))),_e=re((()=>(0,s._)("option",{value:"Technician"},"Technician",-1))),ye=re((()=>(0,s._)("option",{value:"Manager"},"Manager",-1))),ke=[he,we,_e,ye],Ee={key:0,class:"alert alert-danger"},Me=re((()=>(0,s._)("button",{type:"submit",class:"btn btn-success"},"Register",-1)));function De(e,a,t,n,o,l){return(0,s.wg)(),(0,s.iD)("div",se,[ne,(0,s._)("form",{onSubmit:a[5]||(a[5]=(0,r.iM)(((...e)=>l.register&&l.register(...e)),["prevent"])),novalidate:""},[(0,s._)("div",oe,[ie,(0,s.wy)((0,s._)("input",{type:"email",class:(0,i.C_)(["form-control",{"is-invalid":o.emailError||o.registrationError}]),id:"email","onUpdate:modelValue":a[0]||(a[0]=e=>o.user.email=e),required:""},null,2),[[r.nr,o.user.email]]),o.emailError?((0,s.wg)(),(0,s.iD)("div",le,(0,i.zw)(o.emailError),1)):(0,s.kq)("",!0)]),(0,s._)("div",ce,[de,(0,s.wy)((0,s._)("input",{type:"password",class:(0,i.C_)(["form-control",{"is-invalid":o.passwordError}]),id:"password","onUpdate:modelValue":a[1]||(a[1]=e=>o.user.password=e),required:""},null,2),[[r.nr,o.user.password]]),o.passwordError?((0,s.wg)(),(0,s.iD)("div",ue,(0,i.zw)(o.passwordError),1)):(0,s.kq)("",!0)]),(0,s._)("div",me,[pe,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",id:"firstName","onUpdate:modelValue":a[2]||(a[2]=e=>o.user.firstName=e),required:""},null,512),[[r.nr,o.user.firstName]])]),(0,s._)("div",ge,[ve,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",id:"lastName","onUpdate:modelValue":a[3]||(a[3]=e=>o.user.lastName=e),required:""},null,512),[[r.nr,o.user.lastName]])]),(0,s._)("div",be,[fe,(0,s.wy)((0,s._)("select",{class:"form-control",id:"position","onUpdate:modelValue":a[4]||(a[4]=e=>o.user.position=e),required:""},ke,512),[[r.bM,o.user.position]])]),o.registrationError?((0,s.wg)(),(0,s.iD)("div",Ee,(0,i.zw)(o.registrationError),1)):(0,s.kq)("",!0),Me],32)])}var Se={data(){return{user:{email:"",password:"",firstName:"",lastName:"",position:"",role:"USER"},emailError:"",passwordError:"",registrationError:""}},methods:{validateEmail(){const e=/^(([^<>()\]\\.,;:\s@"]+(\.[^<>()\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(this.user.email)},validatePassword(){const e=/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/;return e.test(this.user.password)},async register(){if(this.emailError=this.validateEmail()?"":"Invalid email format",this.passwordError=this.validatePassword()?"":"Password must be at least 8 characters long and include both letters and numbers",!this.emailError&&!this.passwordError)try{const e=await X.Z.post("http://localhost:8080/api/users/register",this.user);this.$store.dispatch("loginUser",e.data),this.$emit("register-success")}catch(e){e.response&&409===e.response.status?this.registrationError="This email is already registered.":this.registrationError="An error occurred during registration."}}}};const Ue=(0,k.Z)(Se,[["render",De],["__scopeId","data-v-b4b86c44"]]);var Ce=Ue,Ne={components:{LoginForm:te,RegistrationForm:Ce},setup(){const e=(0,C.tv)(),a=()=>{e.push("/profile")},t=()=>{e.push("/map")};return{handleLoginSuccess:a,handleRegisterSuccess:t}}};const Pe=(0,k.Z)(Ne,[["render",H],["__scopeId","data-v-bd49cd8e"]]);var Ie=Pe;const Ae=e=>((0,s.dD)("data-v-6225607b"),e=e(),(0,s.Cn)(),e),Oe={class:"container mt-4"},ze=Ae((()=>(0,s._)("h1",null,"Interactive Map",-1))),Te=Ae((()=>(0,s._)("div",{id:"map",class:"leaflet-map"},null,-1))),Ze=[ze,Te];function Le(e,a,t,r,n,o){return(0,s.wg)(),(0,s.iD)("div",Oe,Ze)}var qe=t(3153),xe=t.n(qe),He=t.p+"img/marker.0fa9a017.svg",Re={name:"MapPage",data(){return{map:null,trackingPoints:[],customMarkerIcon:xe().icon({iconUrl:He,iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]})}},mounted(){this.map=xe().map("map").setView([0,0],2),xe().tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(this.map),this.fetchTrackingPoints()},methods:{async fetchTrackingPoints(){try{const e=await X.Z.get("http://localhost:8080/api/trackingPoints");this.trackingPoints=e.data,this.addMarkers(),this.map.fitBounds(this.getMarkersBounds())}catch(e){console.error("Error fetching tracking points:",e)}},addMarkers(){this.trackingPoints.forEach((e=>{const a=xe().marker([e.latitude,e.longitude],{icon:this.customMarkerIcon}).addTo(this.map),t=`<strong>Point ID:</strong> ${e.pointId}<br>\n                              <strong>Status:</strong> ${e.status}`;a.bindPopup(t)}))},getMarkersBounds(){const e=xe().latLngBounds();return this.trackingPoints.forEach((a=>{e.extend([a.latitude,a.longitude])})),e}}};const $e=(0,k.Z)(Re,[["render",Le],["__scopeId","data-v-6225607b"]]);var Fe=$e;const We=e=>((0,s.dD)("data-v-5e7b84de"),e=e(),(0,s.Cn)(),e),je={class:"profile-page container mt-4"},Be={class:"row"},Ve={class:"col-md-6"},Ye=We((()=>(0,s._)("h2",null,"User Profile",-1))),Je={key:0,class:"profile-info"},Ke={key:1,class:"no-history"},Ge=We((()=>(0,s._)("p",null,"User data is not available.",-1))),Qe=[Ge],Xe={class:"col-md-6"},ea=We((()=>(0,s._)("h2",null,"Scanning History",-1))),aa={class:"scanning-history-list"},ta=We((()=>(0,s._)("strong",null,"Scan Date:",-1))),ra={key:0,class:"no-history"},sa=We((()=>(0,s._)("p",null,"No scanning history available.",-1))),na=[sa],oa={key:0,class:"modal",tabindex:"-1",role:"dialog"},ia={class:"modal-dialog",role:"document"},la={class:"modal-content"},ca={class:"modal-header"},da=We((()=>(0,s._)("h5",{class:"modal-title"},"Confirm Deletion",-1))),ua=We((()=>(0,s._)("span",{"aria-hidden":"true"},"×",-1))),ma=[ua],pa=We((()=>(0,s._)("div",{class:"modal-body"},[(0,s._)("p",null,"Are you sure you want to delete your account?")],-1))),ga={class:"modal-footer"};function va(e,a,t,r,n,o){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",je,[(0,s._)("div",Be,[(0,s._)("div",Ve,[Ye,e.user?((0,s.wg)(),(0,s.iD)("div",Je,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.userFields,(a=>((0,s.wg)(),(0,s.iD)("p",{key:a.key},[(0,s._)("strong",null,(0,i.zw)(a.label)+":",1),(0,s.Uk)(" "+(0,i.zw)(e.user[a.key]),1)])))),128)),(0,s._)("button",{onClick:a[0]||(a[0]=(...a)=>e.confirmDelete&&e.confirmDelete(...a)),class:"btn btn-danger"},"Delete Account")])):((0,s.wg)(),(0,s.iD)("div",Ke,Qe))]),(0,s._)("div",Xe,[ea,(0,s._)("ul",aa,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.scanningHistory,(a=>((0,s.wg)(),(0,s.iD)("li",{key:a.historyId,class:"scanning-history-item"},[(0,s._)("p",null,[ta,(0,s.Uk)(" "+(0,i.zw)(e.formatDate(a.timestamp)),1)])])))),128))]),0===e.scanningHistory.length?((0,s.wg)(),(0,s.iD)("div",ra,na)):(0,s.kq)("",!0)])])]),e.showDeleteModal?((0,s.wg)(),(0,s.iD)("div",oa,[(0,s._)("div",ia,[(0,s._)("div",la,[(0,s._)("div",ca,[da,(0,s._)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",onClick:a[1]||(a[1]=(...a)=>e.closeDeleteModal&&e.closeDeleteModal(...a))},ma)]),pa,(0,s._)("div",ga,[(0,s._)("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal",onClick:a[2]||(a[2]=(...a)=>e.closeDeleteModal&&e.closeDeleteModal(...a))},"Cancel"),(0,s._)("button",{type:"button",class:"btn btn-danger",onClick:a[3]||(a[3]=(...a)=>e.deleteAccount&&e.deleteAccount(...a))},"Delete")])])])])):(0,s.kq)("",!0)],64)}var ba=t(4870),fa=(0,s.aZ)({setup(){const e=(0,_.oR)(),a=(0,s.Fl)((()=>e.state.user)),t=(0,ba.iH)([]),r=(0,ba.iH)(!1),n=[{key:"email",label:"Email"},{key:"firstName",label:"First Name"},{key:"lastName",label:"Last Name"},{key:"position",label:"Position"}],o=()=>{},i=()=>{r.value=!0},l=()=>{r.value=!1},c=async()=>{try{await X.Z.delete(`http://localhost:8080/api/users/${a.value.userId}`),e.dispatch("logoutUser"),ka.push("/")}catch(t){console.error("Error deleting account:",t)}},d=async()=>{try{const e=await X.Z.get(`http://localhost:8080/api/scanningHistory/user/${a.value.userId}`);t.value=e.data}catch(e){console.error("Error fetching scanning history:",e)}},u=e=>{const a=new Date(e);return a.toLocaleDateString()+" "+a.toLocaleTimeString()};return(0,s.bv)((()=>{d()})),{user:a,userFields:n,scanningHistory:t,showDeleteModal:r,editProfile:o,confirmDelete:i,closeDeleteModal:l,deleteAccount:c,formatDate:u}}});const ha=(0,k.Z)(fa,[["render",va],["__scopeId","data-v-5e7b84de"]]);var wa=ha;const _a=[{path:"/",name:"Home",component:T},{path:"/login",name:"Login",component:Ie},{path:"/map",name:"Map",component:Fe},{path:"/profile",name:"Profile",component:wa}],ya=(0,C.p7)({history:(0,C.PO)("/"),routes:_a});var ka=ya,Ea=(0,_.MT)({state(){return{user:JSON.parse(localStorage.getItem("user"))||null}},mutations:{setUser(e,a){e.user=a,localStorage.setItem("user",JSON.stringify(a))},clearUser(e){e.user=null,localStorage.removeItem("user")}},actions:{loginUser({commit:e},a){e("setUser",a)},logoutUser({commit:e}){e("clearUser")}},getters:{isAuthenticated:e=>!!e.user,currentUser:e=>e.user}});const Ma=(0,r.ri)(U);Ma.use(Ea),Ma.use(ka),Ma.mount("#app")}},a={};function t(r){var s=a[r];if(void 0!==s)return s.exports;var n=a[r]={exports:{}};return e[r].call(n.exports,n,n.exports,t),n.exports}t.m=e,function(){var e=[];t.O=function(a,r,s,n){if(!r){var o=1/0;for(d=0;d<e.length;d++){r=e[d][0],s=e[d][1],n=e[d][2];for(var i=!0,l=0;l<r.length;l++)(!1&n||o>=n)&&Object.keys(t.O).every((function(e){return t.O[e](r[l])}))?r.splice(l--,1):(i=!1,n<o&&(o=n));if(i){e.splice(d--,1);var c=s();void 0!==c&&(a=c)}}return a}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[r,s,n]}}(),function(){t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,{a:a}),a}}(),function(){t.d=function(e,a){for(var r in a)t.o(a,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:a[r]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){t.p="/"}(),function(){var e={143:0};t.O.j=function(a){return 0===e[a]};var a=function(a,r){var s,n,o=r[0],i=r[1],l=r[2],c=0;if(o.some((function(a){return 0!==e[a]}))){for(s in i)t.o(i,s)&&(t.m[s]=i[s]);if(l)var d=l(t)}for(a&&a(r);c<o.length;c++)n=o[c],t.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return t.O(d)},r=self["webpackChunkfiretrack_frontend"]=self["webpackChunkfiretrack_frontend"]||[];r.forEach(a.bind(null,0)),r.push=a.bind(null,r.push.bind(r))}();var r=t.O(void 0,[998],(function(){return t(4447)}));r=t.O(r)})();
//# sourceMappingURL=app.df724ea3.js.map